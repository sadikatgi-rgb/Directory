/* --- 1. പ്രധാന സെറ്റിംഗ്സ് & നിറങ്ങൾ --- */
:root { 
    --primary: #006400; 
    --bg: #f4f7f6; 
    --white: #ffffff; 
    --text: #333;
    --danger: #ff4444;
    --accent: #ffff00;
}

* { box-sizing: border-box; }

body, html { 
    font-family: 'Manjari', sans-serif;
    letter-spacing: 0.2px;
    line-height: 1.6;
    margin: 0 !important; padding: 0 !important;
    background: var(--bg); 
    color: var(--text);
    height: 100%; width: 100%;
    overflow-x: hidden;
    -webkit-text-size-adjust: 100%;
    touch-action: manipulation;
}

.hidden { display: none !important; }

/* --- 2. ഹെഡർ ഡിസൈൻ --- */
header {
    background-color: var(--primary) !important;
    height: 65px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: 10000 !important;
    position: fixed !important;
    top: 0 !important; left: 0 !important;
    width: 100% !important;
    padding: 0 10px !important;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1) !important;
}

header h3 {
    color: var(--white) !important;
    font-size: 20px !important;
    font-weight: 950 !important;
    margin: 0 auto !important;
    padding: 0 65px !important;
    white-space: nowrap !important; 
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

.menu-icon, .back-btn {
    position: absolute !important;
    left: 10px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 45px !important; height: 45px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    color: var(--white) !important;
    background: transparent !important;
    border: none !important;
    font-size: 28px !important;
    z-index: 10005 !important;
}

#header-back-btn::before {
    content: '←' !important;
    font-size: 32px !important;
    font-weight: 1000 !important;
    -webkit-text-stroke: 1.5px white;
}

/* ഹോം സ്ക്രീൻ ലോജിക് */
#home-screen:not(.hidden) ~ header #header-back-btn { display: none !important; }
#home-screen:not(.hidden) ~ header #main-menu-icon { display: flex !important; }
#home-screen.hidden ~ header #header-back-btn { display: flex !important; }
#home-screen.hidden ~ header #main-menu-icon { display: none !important; }

/* --- 3. വാർത്താ ബാർ (ടിക്കർ) --- */
#news-ticker {
    margin-top: 65px !important;
    height: 52px !important;
    background: var(--accent) !important;
    z-index: 8000 !important;
    border-top: 4px solid #b71c1c !important; 
    border-bottom: 4px solid #000 !important; 
    display: flex !important;
    align-items: center !important;
}

.news-ticker-scroll {
    display: flex !important;
    animation: news-marquee 60s linear infinite !important; 
}

.news-ticker-scroll span {
    font-weight: 950 !important;
    font-size: 20px !important;
    color: #b71c1c !important;
    padding-right: 60px !important;
    white-space: nowrap !important;
}

@keyframes news-marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

/* --- 4. സെർച്ച് ബാർ --- */
#search-input {
    width: 92% !important;
    padding: 14px 25px !important;
    margin: 20px auto !important;
    border-radius: 50px !important;
    border: 2px solid var(--primary) !important;
    background: #fff url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>') no-repeat 95% center;
    background-size: 20px;
    display: block !important;
    outline: none !important;
    font-weight: 800 !important;
}

/* --- 5. കാർഡ് ഡിസൈൻ (Optimized) --- */
.person-card {
    background: var(--white) !important;
    border-radius: 20px !important;
    margin: 15px auto !important;
    padding: 20px !important;
    width: 92% !important;
    box-shadow: 0 10px 20px rgba(0,0,0,0.08) !important;
    border-left: 10px solid var(--primary) !important;
}

.info-row {
    display: flex !important;
    align-items: flex-start !important;
    margin-bottom: 12px !important;
    gap: 8px !important;
}

.info-label {
    white-space: nowrap !important; 
    font-size: 17px !important;
    font-weight: 950 !important;
    display: flex !important;
    align-items: center !important;
    flex-shrink: 0 !important;
}

.info-label i {
    width: 22px !important;
    font-size: 18px !important;
    margin-right: 5px !important;
    text-align: center;
}

.info-value {
    font-size: 18px !important;
    font-weight: 800 !important;
    color: #000 !important;
    word-break: break-word !important;
    flex: 1 !important;
    line-height: 1.3 !important;
}

/* നിറങ്ങൾ */
.row-name .info-label, .row-name .info-label i { color: #006400 !important; }
.row-name .info-value { font-size: 20px !important; }
.row-place .info-label, .row-place .info-label i { color: #d32f2f !important; }
.row-time .info-label, .row-time .info-label i { color: #1976d2 !important; }
.row-off .info-label, .row-off .info-label i { color: #b71c1c !important; }

/* --- 6. ബട്ടണുകൾ --- */
.call-section, .admin-btns {
    display: flex !important;
    gap: 12px !important;
    margin-top: 15px !important;
}

.call-btn-new, .whatsapp-btn-new, .edit-btn, .delete-btn {
    flex: 1 !important;
    padding: 12px 8px !important;
    border-radius: 30px !important;
    font-weight: 900 !important;
    text-align: center !important;
    text-decoration: none !important;
    display: flex !important;
    align-items: center; justify-content: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1) !important;
    border: none;
}

.call-btn-new { background: var(--primary) !important; color: white !important; }
.whatsapp-btn-new { background: #25D366 !important; color: white !important; }
.edit-btn { background: #2196F3 !important; color: white !important; }
.delete-btn { background: var(--danger) !important; color: white !important; }

/* --- 7. കണ്ടെയ്നർ & മറ്റ് ഘടകങ്ങൾ --- */
.container { 
    padding: 10px 15px 150px 15px !important; 
    height: calc(100vh - 120px) !important; 
    overflow-y: auto !important; 
}

.sidebar { 
    position: fixed !important; 
    left: -260px !important; width: 250px !important; height: 100% !important; 
    background: white !important; z-index: 10000 !important; 
    transition: 0.3s ease-in-out !important; 
    box-shadow: 2px 0 10px rgba(0,0,0,0.2) !important; top: 0 !important;
}
.sidebar.active { left: 0 !important; }

#splash { 
    position: fixed !important; top: 0; left: 0; width: 100%; height: 100vh; 
    background: var(--primary); display: flex; align-items: center; justify-content: center; 
    z-index: 11000; color: white;
}
